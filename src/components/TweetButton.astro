---
// src/components/TweetButton.astro
// 記事のタイトルとURLをプロパティとして受け取ります
import { SITE_TITLE } from '../consts';

interface Props {
  title: string;
  url: string;
}

const { title, url } = Astro.props;

// ツイートのテキストをエンコードします
const tweetText = encodeURIComponent(`${title} | ${SITE_TITLE}`); // 記事タイトル | ブログ名の形式
const tweetUrl = encodeURIComponent(url); // 記事のURL

// X (Twitter) の投稿インテントURLを構築します
const twitterShareUrl = `https://twitter.com/intent/tweet?text=${tweetText}&url=${tweetUrl}`;
---

<a class="tweet-button" href={twitterShareUrl} rel="noopener noreferrer" target="_blank">
  <svg
    aria-hidden="true"
    class="w-[1.2em] h-[1.2em] align-middle mr-2 fill-current"
    viewBox="0 0 24 24"
    ><g
      ><path
        d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.714 6.23L18.244 2.25zm-2.91 17.485L3.71 4.608H7.59L18.69 19.392h-3.356z"
      ></path></g
    ></svg
  >
  この記事をX (Twitter) でシェア
</a>

<style>
  .tweet-button {
    display: inline-flex;
    align-items: center;
    background-color: #1da1f2; /* X (Twitter) のブランドカラー */
    color: white;
    padding: 0.8em 1.2em;
    border-radius: 9999px; /* 角丸 */
    text-decoration: none;
    font-weight: bold;
    font-size: 0.9em;
    transition: background-color 0.2s ease-in-out;
    margin-top: 2em; /* 上部に余白 */
    outline: 2px solid transparent;
    outline-offset: 4px;
  }

  .tweet-button:hover {
    background-color: #1a91da; /* ホバー時の色 */
  }

  .tweet-button:focus-visible {
    outline: 2px solid #0ea5e9;
    outline-offset: 4px;
    box-shadow: 0 0 0 4px rgba(14, 165, 233, 0.2);
  }

  .tweet-button svg {
    fill: currentColor; /* SVGの色をテキストの色に合わせる */
  }
</style>
